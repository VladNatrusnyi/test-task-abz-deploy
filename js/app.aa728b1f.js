(function(e){function t(t){for(var s,n,o=t[0],c=t[1],l=t[2],u=0,b=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&b.push(i[n][0]),i[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);d&&d(t);while(b.length)b.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],s=!0,o=1;o<a.length;o++){var c=a[o];0!==i[c]&&(s=!1)}s&&(r.splice(t--,1),e=n(n.s=a[0]))}return e}var s={},i={app:0},r=[];function n(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=s,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/test-task-abz-deploy/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var d=c;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0ef1":function(e,t,a){"use strict";a("ce19")},"44a6":function(e,t,a){},"47ce":function(e,t,a){},"529b":function(e,t,a){"use strict";a("ac95")},"56d7":function(e,t,a){"use strict";a.r(t);var s=a("7a23"),i=a("f4df"),r=a.n(i);const n={class:"container"},o={style:{background:"#F8F8F8","padding-bottom":"100px"}},c={class:"container"},l={class:"main"},d={class:"main-info"},u=Object(s["g"])("h1",{class:"title"},[Object(s["h"])("Test assignment for "),Object(s["g"])("br"),Object(s["h"])(" front-end developer")],-1),b=Object(s["g"])("p",{class:"subtitle"},"What defines a good front-end developer is one that has skilled knowledge of HTML, CSS, JS with a vast understanding of User design thinking as they'll be building web interfaces with accessibility in mind. They should also be excited to learn, as the world of Front-End Development keeps evolving.",-1),p={id:"users",class:"users"},O=Object(s["g"])("h2",{class:"title"},"Working with GET request",-1),h={key:1,class:"users_list"},f={id:"registration",class:"registration"},m={key:0,class:"title"},_={key:1,class:"title"},j={key:2,class:"success_img",src:r.a,alt:"success_img"};function g(e,t,a,i,r,g){const v=Object(s["z"])("Header"),E=Object(s["z"])("MyButton"),S=Object(s["z"])("Preloader"),y=Object(s["z"])("UserCard"),R=Object(s["z"])("RegisterForm");return Object(s["s"])(),Object(s["f"])(s["a"],null,[Object(s["g"])("header",n,[Object(s["i"])(v)]),Object(s["g"])("div",o,[Object(s["g"])("div",c,[Object(s["g"])("section",l,[Object(s["g"])("div",d,[u,b,e.IS_USER_REGISTERED?Object(s["e"])("",!0):(Object(s["s"])(),Object(s["d"])(E,{key:0,title:"Sing up",disabled:!1,"link-to":"#registration"}))])]),Object(s["g"])("section",p,[O,e.PRELOADER?(Object(s["s"])(),Object(s["d"])(S,{key:0})):(Object(s["s"])(),Object(s["f"])("div",h,[(Object(s["s"])(!0),Object(s["f"])(s["a"],null,Object(s["y"])(e.USERS,e=>(Object(s["s"])(),Object(s["d"])(y,{class:"users_card",key:e.id,"user-data":e},null,8,["user-data"]))),128))])),e.PRELOADER?Object(s["e"])("",!0):(Object(s["s"])(),Object(s["d"])(E,{key:2,onClick:g.showMore,class:Object(s["p"])(["show_more",{hide_btn:e.HIDE_SHOW_BTN}]),title:"Show more",disabled:e.HIDE_SHOW_BTN},null,8,["onClick","class","disabled"]))]),Object(s["g"])("section",f,[e.IS_USER_REGISTERED?(Object(s["s"])(),Object(s["f"])("h2",m,"User successfully registered")):(Object(s["s"])(),Object(s["f"])("h2",_,"Working with POST request")),e.IS_USER_REGISTERED?(Object(s["s"])(),Object(s["f"])("img",j)):(Object(s["s"])(),Object(s["d"])(R,{key:3}))])])])],64)}var v=a("df5e"),E=a.n(v);const S=e=>(Object(s["v"])("data-v-4cb6c01a"),e=e(),Object(s["t"])(),e),y={class:"header"},R=S(()=>Object(s["g"])("img",{class:"logo",src:E.a,alt:"Logo"},null,-1)),U={class:"nav_wrapper"};function k(e,t,a,i,r,n){const o=Object(s["z"])("MyButton");return Object(s["s"])(),Object(s["f"])("div",y,[R,Object(s["g"])("div",U,[Object(s["i"])(o,{class:"users-btn",title:"Users",disabled:!1,"link-to":"#users"}),e.IS_USER_REGISTERED?Object(s["e"])("",!0):(Object(s["s"])(),Object(s["d"])(o,{key:0,class:"sign-btn",title:"Sign up",disabled:!1,"link-to":"#registration"}))])])}const I=["disabled"],T=["href"];function x(e,t,a,i,r,n){return Object(s["s"])(),Object(s["f"])("button",{disabled:a.disabled,class:Object(s["p"])(["btn",{disabled:a.disabled}])},[Object(s["g"])("a",{href:a.linkTo},Object(s["B"])(a.title),9,T)],10,I)}var D={name:"MyButton",props:{title:String,linkTo:String,disabled:Boolean}},P=(a("952d"),a("6b0d")),N=a.n(P);const $=N()(D,[["render",x],["__scopeId","data-v-1ffc51eb"]]);var w=$,M=a("5502"),B={name:"Header",components:{MyButton:w},computed:{...Object(M["c"])(["IS_USER_REGISTERED"])}};a("6b4b");const A=N()(B,[["render",k],["__scopeId","data-v-4cb6c01a"]]);var G=A;const F={class:"preloader"};function C(e,t,a,i,r,n){return Object(s["s"])(),Object(s["f"])("div",F)}var L={name:"Preloader"};a("8b10");const W=N()(L,[["render",C],["__scopeId","data-v-c7ed6d4a"]]);var z=W;const H={ref:"card",class:"user_info_wrapper"},X={class:"img_wrapper"},K=["src"],V={class:"other_data"},q={class:"other_data"};function J(e,t,a,i,r,n){return Object(s["s"])(),Object(s["f"])("div",H,[Object(s["g"])("div",X,[Object(s["g"])("img",{src:a.userData.photo,alt:"avatar",class:"avatar",onClick:t[0]||(t[0]=(...e)=>n.foo&&n.foo(...e))},null,8,K)]),Object(s["g"])("p",{ref:"name",class:Object(s["p"])(["name",{add_tooltip:n.messageIdentifyName}])},Object(s["B"])(a.userData.name),3),Object(s["g"])("p",V,Object(s["B"])(a.userData.position),1),Object(s["g"])("p",{ref:"email",class:Object(s["p"])(["email other_data",{add_tooltip:n.messageIdentifyEmail}])},Object(s["B"])(a.userData.email),3),Object(s["g"])("p",q,Object(s["B"])(n.phoneNumber),1)],512)}var Y={name:"UserCard",data(){return{card:null,name:null,email:null}},props:{userData:{type:Object,required:!0,default(){return{}}}},methods:{foo(){console.log(this.email)}},computed:{messageIdentifyName(){return this.name>this.card},messageIdentifyEmail(){return this.email>this.card},phoneNumber(){return`${this.userData.phone.slice(0,3)} (${this.userData.phone.slice(3,6)}) ${this.userData.phone.slice(6,9)} ${this.userData.phone.slice(9,11)} ${this.userData.phone.slice(11)}`}},mounted(){this.card=this.$refs.card.clientWidth,this.name=this.$refs.name.scrollWidth,this.email=this.$refs.email.scrollWidth,this.messageIdentifyName&&(this.$refs.name.title=this.userData.name,this.$refs.name.style.cursor="pointer"),this.messageIdentifyEmail&&(this.$refs.email.title=this.userData.email,this.$refs.email.style.cursor="pointer")}};a("0ef1");const Q=N()(Y,[["render",J],["__scopeId","data-v-608253fd"]]);var Z=Q;const ee=e=>(Object(s["v"])("data-v-26adf596"),e=e(),Object(s["t"])(),e),te={class:"text-field__wrapper"},ae={class:"text-field text-field_floating-2"},se={key:0,class:"text-field__message"},ie={key:1,class:"text-field__message text-field__message_invalid"},re={class:"text-field__wrapper"},ne={class:"text-field text-field_floating-2"},oe={key:0,class:"text-field__message"},ce={key:1,class:"text-field__message text-field__message_invalid"},le={class:"text-field__wrapper",style:{"margin-bottom":"25px"}},de={class:"text-field text-field_floating-2"},ue={key:0,class:"text-field__message text-field__message_invalid"},be={key:1,class:"text-field__message"},pe=ee(()=>Object(s["g"])("p",{class:"position_title"},"Select your position",-1)),Oe={key:1,class:"positions_wrapper"};function he(e,t,a,i,r,n){const o=Object(s["z"])("Preloader"),c=Object(s["z"])("MyRadioButton"),l=Object(s["z"])("UploadField"),d=Object(s["z"])("MyButton"),u=Object(s["A"])("mask");return Object(s["s"])(),Object(s["f"])("form",{class:"form",onSubmit:t[3]||(t[3]=Object(s["G"])((...e)=>n.checkForm&&n.checkForm(...e),["prevent"]))},[Object(s["g"])("div",te,[Object(s["g"])("div",ae,[Object(s["F"])(Object(s["g"])("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.name=e),class:Object(s["p"])(["text-field__input",{"text-field__input_invalid":i.v$.name.$error}]),type:"text",name:"name",id:"name",placeholder:"Your name"},null,2),[[s["D"],r.name,void 0,{trim:!0}]]),Object(s["g"])("label",{class:Object(s["p"])(["text-field__label",{"text-field__label_invalid":i.v$.name.$error}]),for:"name"},"Your name",2)]),i.v$.name.$error?Object(s["e"])("",!0):(Object(s["s"])(),Object(s["f"])("div",se," Ведіть ваше ім'я ")),i.v$.name.$errors.length?(Object(s["s"])(),Object(s["f"])("div",ie,Object(s["B"])(i.v$.name.$errors[0].$message),1)):Object(s["e"])("",!0)]),Object(s["g"])("div",re,[Object(s["g"])("div",ne,[Object(s["F"])(Object(s["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.email=e),class:Object(s["p"])(["text-field__input",{"text-field__input_invalid":i.v$.email.$error}]),type:"text",name:"email",id:"email",placeholder:"Email"},null,2),[[s["D"],r.email,void 0,{trim:!0}]]),Object(s["g"])("label",{class:Object(s["p"])(["text-field__label",{"text-field__label_invalid":i.v$.email.$error}]),for:"email"},"Email",2)]),i.v$.email.$error?Object(s["e"])("",!0):(Object(s["s"])(),Object(s["f"])("div",oe," Ведіть ваш Email ")),i.v$.email.$errors.length?(Object(s["s"])(),Object(s["f"])("div",ce,Object(s["B"])(i.v$.email.$errors[0].$message),1)):Object(s["e"])("",!0)]),Object(s["g"])("div",le,[Object(s["g"])("div",de,[Object(s["F"])(Object(s["g"])("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>r.number=e),class:Object(s["p"])(["text-field__input",{"text-field__input_invalid":r.phoneNumberError}]),type:"text",name:"phone",id:"phone",placeholder:"Phone"},null,2),[[s["D"],r.number,void 0,{trim:!0}],[u,"+38 (###) ###-##-##"]]),Object(s["g"])("label",{class:Object(s["p"])(["text-field__label",{"text-field__label_invalid":r.phoneNumberError}]),for:"phone"},"Phone ",2)]),r.phoneNumberError?(Object(s["s"])(),Object(s["f"])("div",ue," Value is not a valid phone number ")):(Object(s["s"])(),Object(s["f"])("div",be," +38 (XXX) XXX - XX - XX "))]),pe,e.POSITION_PRELOADER?(Object(s["s"])(),Object(s["d"])(o,{key:0})):(Object(s["s"])(),Object(s["f"])("div",Oe,[(Object(s["s"])(!0),Object(s["f"])(s["a"],null,Object(s["y"])(e.POSITIONS.positions,e=>(Object(s["s"])(),Object(s["d"])(c,{class:"my_radio_btn",key:e.id,"radio-data":e,onClick:t=>n.chooseRadio(e.id)},null,8,["radio-data","onClick"]))),128))])),Object(s["i"])(l,{onChangeUploadData:n.changeUploadData,error:r.errorUpload},null,8,["onChangeUploadData","error"]),Object(s["i"])(d,{class:"sing_up_btn",title:"Sing up",disabled:n.isBtnActive},null,8,["disabled"])],32)}var fe=a("25a0"),me=a("e3e1");const _e={class:"form-group"},je=["checked","id","value"],ge=["for"],ve=["for"];function Ee(e,t,a,i,r,n){return Object(s["s"])(),Object(s["f"])("div",_e,[Object(s["g"])("input",{checked:n.isChecked,id:a.radioData.name,type:"radio",name:"payment",value:a.radioData.id,class:"real-radio-btn"},null,8,je),Object(s["g"])("label",{for:a.radioData.name,class:"custom-radio-btn"},null,8,ge),Object(s["g"])("label",{for:a.radioData.name,class:"custom-radio-btn_text"},Object(s["B"])(a.radioData.name),9,ve)])}var Se={name:"MyRadioButton",data(){return{radio:"",input:""}},props:{radioData:{type:Object,required:!0,default(){return{}}}},computed:{isChecked(){return 1===this.radioData.id}}};a("ae71");const ye=N()(Se,[["render",Ee],["__scopeId","data-v-24d15d1a"]]);var Re=ye;const Ue={class:"upload_field_wrapper"},ke={class:"input_wrapper"},Ie={key:0,class:"input_file_button_text"},Te={key:1,class:"input_file_button_text_static"},xe={key:0,class:"text_field_message text_field_message_invalid"};function De(e,t,a,i,r,n){return Object(s["s"])(),Object(s["f"])("div",Ue,[Object(s["g"])("div",ke,[Object(s["g"])("input",{type:"file",id:"input_file",class:"input input_file",accept:".jpg, .jpeg",onChange:t[0]||(t[0]=e=>n.changeUploadData(e))},null,32),Object(s["g"])("label",{for:"input_file",class:Object(s["p"])(["input_file_button",{text_field_invalid:a.error}])},[Object(s["g"])("span",{class:Object(s["p"])(["input_file_icon_wrapper",{text_field_invalid_btn:a.error}])},"Upload",2),r.file.length?(Object(s["s"])(),Object(s["f"])("span",Ie,Object(s["B"])(r.file[0].name),1)):(Object(s["s"])(),Object(s["f"])("span",Te,"Upload your photo"))],2)]),a.error?(Object(s["s"])(),Object(s["f"])("div",xe,Object(s["B"])(a.error),1)):Object(s["e"])("",!0)])}var Pe={props:{error:{type:String}},name:"UploadField",data(){return{file:[]}},methods:{changeUploadData(e){this.file=[],e.target.files.length?(this.file.push(e.target.files[0]),this.$emit("changeUploadData",this.file)):(this.file=[],this.$emit("changeUploadData",[]))}}};a("529b");const Ne=N()(Pe,[["render",De],["__scopeId","data-v-3cb3f7e9"]]);var $e=Ne;function we(e){const t=document.createElement("img"),a=new Promise((e,a)=>{t.onload=()=>{const a=t.naturalWidth,s=t.naturalHeight;e({width:a,height:s})},t.onerror=a});return t.src=e,a}var Me={name:"RegisterForm",setup(){return{v$:Object(fe["a"])()}},data(){return{name:null,email:null,number:"",position:1,file:[],inputPhoneModel:"",phoneNumberError:!1,errorUpload:"",isValidateStart:!1}},validations:{name:{required:me["d"],minLength:Object(me["c"])(2),maxLength:Object(me["b"])(60)},email:{required:me["d"],email:me["a"]}},components:{MyButton:w,MyRadioButton:Re,Preloader:z,UploadField:$e},methods:{...Object(M["b"])(["POST_NEW_USER","GET_NEW_TOKEN"]),chooseRadio(e){this.position=e},async checkForm(){this.isValidateStart=!0,this.v$.name.$touch(),this.v$.email.$touch(),this.checkUploadData(this.file),this.phoneNumber.length<13||"0"!==this.phoneNumber[3]?this.phoneNumberError=!0:this.phoneNumberError=!1,this.v$.name.$error||this.v$.email.$error||this.phoneNumberError||this.errorUpload||(await this.GET_NEW_TOKEN(),await this.POST_NEW_USER({name:this.name,email:this.email,phone:this.phoneNumber,position_id:this.position,photo:this.file[0]}))},changeUploadData(e){this.file=e},checkUploadData(e){this.errorUpload="",0===e.length&&(this.errorUpload="Value is required"),e.size>=5242880&&(this.errorUpload="Size must not exceed 5MB");const t=this;(async function(){if(0!==e.length){const a=window.URL||window.webkitURL,s=a.createObjectURL(e[0]),i=await we(s);a.revokeObjectURL(s),(i.width<=70||i.height<=70)&&(t.errorUpload="The resolution must be at least 70x70 pixels")}})()}},computed:{...Object(M["c"])(["POSITIONS","POSITION_PRELOADER","CHECK_NUMBER_AND_EMAIL"]),phoneNumber(){return"+"+this.number.split("").filter(e=>{if(+e||"0"===e)return e}).join("")},isBtnActive(){return!(this.name&&this.email&&this.number&&this.file.length)}},watch:{file(e){this.isValidateStart&&this.checkUploadData(e)},CHECK_NUMBER_AND_EMAIL(e){e&&alert("Користувач із цим телефоном або електронною поштою вже існує")}}};a("a5b5");const Be=N()(Me,[["render",he],["__scopeId","data-v-26adf596"]]);var Ae=Be,Ge={name:"App",data(){return{page:1,count:6}},components:{Header:G,MyButton:w,Preloader:z,UserCard:Z,RegisterForm:Ae},methods:{...Object(M["b"])(["GET_USERS_FROM_API","GET_POSITIONS_FROM_API"]),showMore(){this.page++,this.GET_USERS_FROM_API({page:this.page,count:this.count})}},computed:{...Object(M["c"])(["USERS","PRELOADER","HIDE_SHOW_BTN","IS_USER_REGISTERED"])},mounted(){this.GET_USERS_FROM_API({page:this.page,count:this.count}),this.GET_POSITIONS_FROM_API()}};a("5c4f");const Fe=N()(Ge,[["render",g]]);var Ce=Fe,Le=a("bc3a"),We=a.n(Le),ze=Object(M["a"])({state:{currentUsers:[],preloader:!1,positionPreloader:!1,allUsers:[],hideShowBtn:!1,positions:[],currentToken:"",isUserRegistered:!1,checkNumberAndEmail:!1},mutations:{GET_USERS_FROM_API:(e,t)=>{e.currentUsers=t,e.allUsers.push(...e.currentUsers.users),e.currentUsers.total_users===e.allUsers.length&&(e.hideShowBtn=!0)},GET_POSITIONS_FROM_API:(e,t)=>{e.positions=t},GET_NEW_TOKEN:(e,t)=>{e.currentToken=t}},actions:{GET_USERS_FROM_API({commit:e,state:t},a){return t.preloader=!0,We()(`https://frontend-test-assignment-api.abz.agency/api/v1/users?page=${a.page}&count=${a.count}`,{method:"GET"}).then(a=>(e("GET_USERS_FROM_API",a.data),t.preloader=!1,a)).catch(e=>(console.log(e),e))},GET_POSITIONS_FROM_API({commit:e,state:t}){return t.positionPreloader=!0,We()(" https://frontend-test-assignment-api.abz.agency/api/v1/positions",{method:"GET"}).then(a=>(e("GET_POSITIONS_FROM_API",a.data),a.data.success&&(t.positionPreloader=!1),a)).catch(e=>(console.log(e),e))},POST_NEW_USER({commit:e,state:t,dispatch:a},s){const i={Token:t.currentToken.token,"Content-Type":"multipart/form-data"};t.currentToken.success&&We.a.post("https://frontend-test-assignment-api.abz.agency/api/v1/users",s,{headers:i}).then((function(e){console.log(e),e.data.success&&(t.isUserRegistered=!0),t.allUsers=[],a("GET_USERS_FROM_API",{page:1,count:6}),t.currentToken=""})).catch((function(e){console.log(e),409===e.response.status&&(t.checkNumberAndEmail=!0)}))},GET_NEW_TOKEN({commit:e,state:t}){return We()("https://frontend-test-assignment-api.abz.agency/api/v1/token",{method:"GET"}).then(t=>(e("GET_NEW_TOKEN",t.data),t)).catch(e=>(console.log(e),e))}},getters:{USERS(e){return e.allUsers},PRELOADER(e){return e.preloader},HIDE_SHOW_BTN(e){return e.hideShowBtn},POSITIONS(e){return e.positions},POSITION_PRELOADER(e){return e.positionPreloader},IS_USER_REGISTERED(e){return e.isUserRegistered},CHECK_NUMBER_AND_EMAIL(e){return e.checkNumberAndEmail}}}),He=a("130e"),Xe=a("b6d0");const Ke=Xe["a"],Ve={beforeMount:Ke.bind,updated:Ke.componentUpdated,unmounted:Ke.unbind};Object(s["c"])(Ce).directive("mask",Ve).use(He["a"],We.a).use(ze).mount("#app")},"5c4f":function(e,t,a){"use strict";a("b497")},"6b4b":function(e,t,a){"use strict";a("be41")},"8b10":function(e,t,a){"use strict";a("9468")},"8c19":function(e,t,a){},9468:function(e,t,a){},"952d":function(e,t,a){"use strict";a("47ce")},a5b5:function(e,t,a){"use strict";a("8c19")},ac95:function(e,t,a){},ae71:function(e,t,a){"use strict";a("44a6")},b497:function(e,t,a){},be41:function(e,t,a){},ce19:function(e,t,a){},df5e:function(e,t,a){e.exports=a.p+"img/Logo.ddc0b511.svg"},f4df:function(e,t,a){e.exports=a.p+"img/success-image.99317d08.svg"}});
//# sourceMappingURL=app.aa728b1f.js.map